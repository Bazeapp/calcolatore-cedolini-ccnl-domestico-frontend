<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulatore Calcolo Costo CCNL Domestico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Simulatore Calcolo Costo CCNL Domestico</h1>
    
    <div class="box" onclick="toggleChoices('choices1')">
        Tipo Contratto
        <div id="choices1" class="choices">
            <button onclick="selectChoice('Tipo contratto', 'non-convivente')">Non-Convivente</button>
            <button onclick="selectChoice('Tipo contratto', 'full-time')">Full-Time</button>
            <button onclick="selectChoice('Tipo contratto', 'part-time')">Part-Time</button>
            <button onclick="selectChoice('Tipo contratto', 'sostituzione')">Sostituzione</button>
            <button onclick="selectChoice('Tipo contratto', 'assistenza')">Assistenza</button>
            <button onclick="selectChoice('Tipo contratto', 'presenza')">Presenza</button>
        </div>
    </div>
    <div class="box" onclick="toggleChoices('livello')">
        Livello contratto
        <div id="livello" class="choices">
            <button onclick="selectChoice('Livello', 'a')">A</button>
            <button onclick="selectChoice('Livello','as')">AS</button>
            <button onclick="selectChoice('Livello', 'b')">B</button>
            <button onclick="selectChoice('Livello', 'bs')">BS</button>
            <button onclick="selectChoice('Livello', 'c')">C</button>
            <button onclick="selectChoice('Livello', 'cs')">CS</button>
            <button onclick="selectChoice('Livello', 'd')">D</button>
            <button onclick="selectChoice('Livello', 'ds')">DS</button>
        </div>
    </div>

    
    <div class="selection-container">
        <label>
            <input type="radio" name="contratto" value="indeterminato" onclick="selectChoice('Contratto', 'indeterminato')">
            Indeterminato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato" onclick="selectChoice('Contratto', 'determinato')">
            Determinato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato in sostituzione" onclick="selectChoice('Contratto', 'determinato in sostituzione')">
            Determinato in Sostituzione
        </label>
    </div>

    <div class="selection-container" id="vittoAlloggioBox" style="display:none;">
        Vitto e Alloggio sono in natura? :
        <label>
            <input type="radio" name="vittoAlloggio" value="si" onclick="selectVittoAlloggio('si')"> Sì
        </label>
        <label>
            <input type="radio" name="vittoAlloggio" value="no" onclick="selectVittoAlloggio('no')"> No
        </label>
    </div>

    <div class="selection-container" id="specificaVittoAlloggioBox" style="display:none;">
        Seleziona le indennità sostitutive:
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="pranzo/colazione" onclick="selectSpecificaVittoAlloggio('pranzo/colazione')"> Indennità Pranzo/Colazione
        </label>
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="cena" onclick="selectSpecificaVittoAlloggio('cena')"> Indennità Cena
        </label>
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="alloggio" onclick="selectSpecificaVittoAlloggio('alloggio')"> Indennità Alloggio
        </label>
    </div>

    <div class="selection-container" id="bambinoBox" style="display:none;">
        Il bambino è entro i 6 anni di età? :
        <label>
            <input type="radio" name="bambino" value="si" onclick="selectBambino('si')"> Sì
        </label>
        <label>
            <input type="radio" name="bambino" value="no" onclick="selectBambino('no')"> No
        </label>
    </div>

    <div class="selection-container" id="certificatoBox" style="display:none;">
        Il lavoratore ha il certificato UNI1176 valido? :
        <label>
            <input type="radio" name="certificato" value="si" onclick="selectCertificato('si')"> Sì
        </label>
        <label>
            <input type="radio" name="certificato" value="no" onclick="selectCertificato('no')"> No
        </label>
    </div>

    <div class="selected-items" id="selectedItems">
        <!-- Selections will appear here -->
    </div>

    <h2>Orario di Lavoro</h2>
    <table>
        <thead>
            <tr>
                <th>Lunedì</th>
                <th>Martedì</th>
                <th>Mercoledì</th>
                <th>Giovedì</th>
                <th>Venerdì</th>
                <th>Sabato</th>
                <th>Domenica</th>
                <th>Ore Settimanali</th>
                <th>Giorni Settimanali</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <button onclick="increaseHours('lunedi')">+</button>
                    <input type="number" min="0" max="10" id="lunedi" value="0" readonly>
                    <button onclick="decreaseHours('lunedi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('martedi')">+</button>
                    <input type="number" min="0" max="10" id="martedi" value="0" readonly>
                    <button onclick="decreaseHours('martedi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('mercoledi')">+</button>
                    <input type="number" min="0" max="10" id="mercoledi" value="0" readonly>
                    <button onclick="decreaseHours('mercoledi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('giovedi')">+</button>
                    <input type="number" min="0" max="10" id="giovedi" value="0" readonly>
                    <button onclick="decreaseHours('giovedi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('venerdi')">+</button>
                    <input type="number" min="0" max="10" id="venerdi" value="0" readonly>
                    <button onclick="decreaseHours('venerdi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('sabato')">+</button>
                    <input type="number" min="0" max="10" id="sabato" value="0" readonly>
                    <button onclick="decreaseHours('sabato')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('domenica')">+</button>
                    <input type="number" min="0" max="10" id="domenica" value="0" readonly>
                    <button onclick="decreaseHours('domenica')">-</button>
                </td>
                <td><input type="text" id="totalHours" readonly></td>
                <td><input type="text" id="totalDays" readonly></td>
            </tr>
        </tbody>
    </table>
    <div>
        <button class="box" onclick="submitChoices()">Calcola</button>
        <button class="box" onclick="resetCalculator()">Nuovo Calcolo</button>
    </div>

    <div id="result">
        <!-- Risultati calcoli verranno visualizzati qui -->
    </div>

    <script>
        var selections = {
            'Tipo contratto': null,
            'Livello': null,
            'Contratto': null,
            'Vitto e alloggio in natura': null,
            'Specifiche vitto e alloggio': [],
            'Bambino entro 6 anni': null,
            'Certificato UNI1176': null
        };

        function toggleChoices(choiceId) {
            var choices = document.getElementById(choiceId);
            choices.classList.toggle('show');
        }
        
        function selectChoice(category, choice) {
    selections[category] = choice;
    displaySelections();

    if (category === 'Tipo contratto') {
        updateLevelChoices(choice);
    } else if (category === 'Livello') {
        if (choice === 'bs') {
            document.getElementById('bambinoBox').style.display = 'block';
            document.getElementById('certificatoBox').style.display = 'block';
        } else {
            document.getElementById('bambinoBox').style.display = 'none';
            document.getElementById('certificatoBox').style.display = 'none';
        }

        if (selections['Tipo contratto'] !== 'non-convivente') {
            document.getElementById('vittoAlloggioBox').style.display = 'block';
        }
    }
}


        

        function selectVittoAlloggio(choice) {
            selections['Vitto e alloggio in natura'] = choice;
            document.getElementById('specificaVittoAlloggioBox').style.display = (choice === 'no') ? 'block' : 'none';
            if (choice === 'si') {
                selections['Specifiche vitto e alloggio'] = [];
            }
            displaySelections();
        }

        function selectSpecificaVittoAlloggio(option) {
            var index = selections['Specifiche vitto e alloggio'].indexOf(option);
            if (index === -1) {
                selections['Specifiche vitto e alloggio'].push(option);
            } else {
                selections['Specifiche vitto e alloggio'].splice(index, 1);
            }
            displaySelections();
        }

        function selectBambino(choice) {
            selections['Bambino entro 6 anni'] = choice;
            displaySelections();
        }

        function selectCertificato(choice) {
            selections['Certificato UNI1176'] = choice;
            displaySelections();
        }

            
        function displaySelections() {
            var selectedItems = document.getElementById('selectedItems');
            selectedItems.innerHTML = '';

            for (var key in selections) {
                if (selections[key] !== null) {
                    if (Array.isArray(selections[key]) && selections[key].length > 0) {
                        selectedItems.innerHTML += '<p>' + key + ': ' + selections[key].join(', ') + '</p>';
                    } else if (!Array.isArray(selections[key])) {
                        selectedItems.innerHTML += '<p>' + key + ': ' + selections[key] + '</p>';
                    }
                }
            }
        }

        function increaseHours(day) {
            var input = document.getElementById(day);
            var value = parseInt(input.value);
            if (value < 10) {
                input.value = value + 1;
                updateTotalHoursAndDays();
            }
        }

        function decreaseHours(day) {
            var input = document.getElementById(day);
            var value = parseInt(input.value);
            if (value > 0) {
                input.value = value - 1;
                updateTotalHoursAndDays();
            }
        }

        function updateTotalHoursAndDays() {
            var days = ['lunedi', 'martedi', 'mercoledi', 'giovedi', 'venerdi', 'sabato', 'domenica'];
            var totalHours = 0;
            var totalDays = 0;

            days.forEach(function(day) {
                var input = document.getElementById(day);
                var value = parseInt(input.value);
                totalHours += value;
                if (value > 0) {
                    totalDays += 1;
                }
            });

            document.getElementById('totalHours').value = totalHours;
            document.getElementById('totalDays').value = totalDays;
        }

        function submitChoices() {
            var result = document.getElementById('result');
            result.innerHTML = '<h2>Risultati del Calcolo:</h2>';
            for (var key in selections) {
                if (selections[key] !== null) {
                    if (Array.isArray(selections[key]) && selections[key].length > 0) {
                        result.innerHTML += '<p>' + key + ': ' + selections[key].join(', ') + '</p>';
                    } else if (!Array.isArray(selections[key])) {
                        result.innerHTML += '<p>' + key + ': ' + selections[key] + '</p>';
                    }
                }
            }
            var totalHours = document.getElementById('totalHours').value;
            var totalDays = document.getElementById('totalDays').value;
            result.innerHTML += '<p>Ore Settimanali: ' + totalHours + '</p>';
            result.innerHTML += '<p>Giorni Settimanali: ' + totalDays + '</p>';
        }

        function resetCalculator() {
            selections = {
                'Tipo contratto': null,
                'Livello': null,
                'Contratto': null,
                'Vitto e alloggio in natura': null,
                'Specifiche vitto e alloggio': [],
                'Bambino entro 6 anni': null,
                'Certificato UNI1176': null
            };

            document.getElementById('selectedItems').innerHTML = '';
            document.getElementById('result').innerHTML = '';
            document.getElementById('choices1').classList.remove('show');
            document.getElementById('livello').classList.remove('show');
            document.getElementById('vittoAlloggioBox').style.display = 'none';
            document.getElementById('specificaVittoAlloggioBox').style.display = 'none';
            document.getElementById('bambinoBox').style.display = 'none';
            document.getElementById('certificatoBox').style.display = 'none';

            // Reset hours and days
            var days = ['lunedi', 'martedi', 'mercoledi', 'giovedi', 'venerdi', 'sabato', 'domenica'];
            days.forEach(function(day) {
                document.getElementById(day).value = 0;
            });
            document.getElementById('totalHours').value = 0;
            document.getElementById('totalDays').value = 0;

            // Reset radio buttons and checkboxes
            var radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(function(radio) {
                radio.checked = false;
            });

            var checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(function(checkbox) {
                checkbox.checked = false;
            });
        }
    </script>
</body>
</html>
