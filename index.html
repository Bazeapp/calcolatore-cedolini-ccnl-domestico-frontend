<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulatore calcolo costo ccnl domestico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Simulatore calcolo costo ccnl domestico</h1>
    
    <div class="box" onclick="toggleChoices('choices1')">
        Tipo contratto
        <div id="choices1" class="choices">
            <button onclick="selectChoice('Tipo contratto', 'non-convivente')">non-convivente</button>
            <button onclick="selectChoice('Tipo contratto', 'full-time')">full-time</button>
            <button onclick="selectChoice('Tipo contratto', 'part-time')">part-time</button>
            <button onclick="selectChoice('Tipo contratto', 'sostituzione')">sostituzione</button>
            <button onclick="selectChoice('Tipo contratto', 'assistenza')">assistenza</button>
            <button onclick="selectChoice('Tipo contratto', 'presenza')">presenza</button>
        </div>
    </div>

    <div class="box" id="levelBox" onclick="toggleChoices('choices2')" style="display:none;">
        Livello
        <div id="choices2" class="choices">
            <!-- Livello buttons will be dynamically populated here -->
        </div>
    </div>

    <div class="selection-container">
        <label>
            <input type="radio" name="contratto" value="indeterminato" onclick="selectChoice('Contratto', 'indeterminato')">
            indeterminato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato" onclick="selectChoice('Contratto', 'determinato')">
            determinato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato in sostituzione" onclick="selectChoice('Contratto', 'determinato in sostituzione')">
            determinato in sostituzione
        </label>
    </div>
    <div class="selection-container" id="vittoAlloggioBox" style="display:none;">
        Vitto e alloggio sono in natura? :
        <label>
            <input type="radio" name="vittoAlloggio" value="si" onclick="selectVittoAlloggio('si')"> Sì
        </label>
        <label>
            <input type="radio" name="vittoAlloggio" value="no" onclick="selectVittoAlloggio('no')"> No
        </label>
    </div>

    <div class="selection-container" id="specificaVittoAlloggioBox" style="display:none;">
        seleziona le indennità sostitutive:
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="pranzo/colazione" onclick="selectSpecificaVittoAlloggio('pranzo/colazione')"> indennità Pranzo/Colazione
        </label>
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="cena" onclick="selectSpecificaVittoAlloggio('cena')"> indennità Cena
        </label>
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="alloggio" onclick="selectSpecificaVittoAlloggio('alloggio')"> indennità Alloggio
        </label>
    </div>

    <div class="selected-items" id="selectedItems">
        <!-- Selections will appear here -->
    </div>

    <h2>Orario di lavoro</h2>
    <table>
        <thead>
            <tr>
                <th>Lunedì</th>
                <th>Martedì</th>
                <th>Mercoledì</th>
                <th>Giovedì</th>
                <th>Venerdì</th>
                <th>Sabato</th>
                <th>Domenica</th>
                <th>Ore settimanali</th>
                <th>Giorni settimanali</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <button onclick="increaseHours('lunedi')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="lunedi" value="0" readonly>
                    <button onclick="decreaseHours('lunedi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('martedi')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="martedi" value="0" readonly>
                    <button onclick="decreaseHours('martedi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('mercoledi')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="mercoledi" value="0" readonly>
                    <button onclick="decreaseHours('mercoledi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('giovedi')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="giovedi" value="0" readonly>
                    <button onclick="decreaseHours('giovedi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('venerdi')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="venerdi" value="0" readonly>
                    <button onclick="decreaseHours('venerdi')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('sabato')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="sabato" value="0" readonly>
                    <button onclick="decreaseHours('sabato')">-</button>
                </td>
                <td>
                    <button onclick="increaseHours('domenica')">+</button>
                    <input type="number" min="0" max="10" placeholder="0" id="domenica" value="0" readonly>
                    <button onclick="decreaseHours('domenica')">-</button>
                </td>
                <td><input type="text" id="totalHours" readonly></td>
                <td><input type="text" id="totalDays" readonly></td>
            </tr>
        </tbody>
    </table>
    <div>
        <button class="box" onclick="submitChoices()">Calcola</button>
        <button class="box" onclick="resetCalculator()">Nuovo calcolo</button>
    </div>

    <div id="result">
        <!-- Risultati calcoli verranno visualizzati qui -->
    </div>

    <script>
        var selections = {
            'Tipo contratto': null,
            'Livello': null,
            'Contratto': null,
            'Vitto e alloggio in natura': null,
            'Specifiche vitto e alloggio': []
        };

        function toggleChoices(id) {
            var choices = document.getElementById(id);
            if (choices.classList.contains('show')) {
                choices.classList.remove('show');
            } else {
                // Nasconde tutte le altre scelte
                var allChoices = document.querySelectorAll('.choices');
                allChoices.forEach(function(choice) {
                    choice.classList.remove('show');
                });
                // Mostra le scelte cliccate
                choices.classList.add('show');
            }
        }

        function selectChoice(category, choice) {
            selections[category] = choice;
            displaySelections();
            if (category === 'Tipo contratto') {
                updateLevelChoices(choice);
            } else if (category === 'Livello') {
                if (selections['Tipo contratto'] !== 'non-convivente') {
                    document.getElementById('vittoAlloggioBox').style.display = 'block';
                }
            }
        }

        function selectVittoAlloggio(choice) {
            selections['Vitto e alloggio in natura'] = choice;
            if (choice === 'no') {
                document.getElementById('specificaVittoAlloggioBox').style.display = 'block';
            } else {
                document.getElementById('specificaVittoAlloggioBox').style.display = 'none';
                selections['Specifiche vitto e alloggio'] = [];
            }
            displaySelections();
        }

        function selectSpecificaVittoAlloggio(option) {
            var index = selections['Specifiche vitto e alloggio'].indexOf(option);
            if (index === -1) {
                selections['Specifiche vitto e alloggio'].push(option);
            } else {
                selections['Specifiche vitto e alloggio'].splice(index, 1);
            }
            displaySelections();
        }

        function updateLevelChoices(contractType) {
            var levelBox = document.getElementById('levelBox');
            var levelChoices = document.getElementById('choices2');
            var buttons = '';
            if (contractType === 'presenza') {
                buttons = '<div class="tooltip"><button onclick="selectChoice(\'Livello\', \'livello unico\')">livello unico</button><span class="tooltiptext">livello unico</span></div>';
            } else if (contractType === 'full-time' || contractType === 'non-convivente'){
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'a')">a</button><span class="tooltiptext">LIVELLO A - assistenti familiari (no assistenza):
                        <br>Addetto alle pulizie (solo casa),
                        <br>Addetto alla lavanderia (solo lavanderia),
                        <br>Aiuto di cucina,
                        <br>Autista (solo autista)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'as')">as</button><span class="tooltiptext">LIVELLO AS - assistenti familiari:
                        <br>Assistente a persone autosufficienti
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'b')">b</button><span class="tooltiptext">LIVELLO B - assistenti familiari (no assistenza):
                        <br>Addetto alla cucina (solo cucina),
                        <br>Guardiano (no assistenza),
                        <br>Giardiniere
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">LIVELLO BS - assistenti familiari:
                        <br>Assistente a persone non autosufficienti (non formato),
                        <br>Assistente a persone autosufficienti (livello superiore),
                        <br>Assistente a persone autosufficienti (livello base)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'c')">c</button><span class="tooltiptext">LIVELLO C - assistenti familiari:
                        <br>Assistente a persone autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (no formato),
                        <br>Assistente a persone autosufficienti (livello base),
                        <br>Assistente a persone non autosufficienti (livello base)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">LIVELLO CS - assistenti familiari:
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'd')">d</button><span class="tooltiptext">LIVELLO D - assistenti familiari (no assistenza):
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio),
                        <br>Assistente a persone non autosufficienti (livello base),
                        <br>Assistente a persone autosufficienti (livello base),
                        <br>Assistente a persone autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (no formato)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">LIVELLO DS - assistenti familiari (no assistenza):
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio),
                        <br>Assistente a persone non autosufficienti (livello base),
                        <br>Assistente a persone autosufficienti (livello superiore)
                    </span></div>
                `;
            } else if (contractType === 'assistenza'){
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">LIVELLO BS - assistenti familiari:
                        <br>Assistente a persone non autosufficienti (non formato),
                        <br>Assistente a persone autosufficienti (livello superiore),
                        <br>Assistente a persone autosufficienti (livello base)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">LIVELLO CS - assistenti familiari:
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio)
                    </span></div>
                     <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">LIVELLO DS - assistenti familiari (no assistenza):
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio),
                        <br>Assistente a persone non autosufficienti (livello base),
                        <br>Assistente a persone autosufficienti (livello superiore)
                    </span></div>
 
                    `;
                } else if (contractType === 'sostituzione'){
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">LIVELLO CS - assistenti familiari:
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio)
                    </span></div>
                     <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">LIVELLO DS - assistenti familiari (no assistenza):
                        <br>Assistente a persone non autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (livello medio),
                        <br>Assistente a persone non autosufficienti (livello base),
                        <br>Assistente a persone autosufficienti (livello superiore)
                    </span></div>
 
                    `;
                } else if (contractType === 'part-time'){
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'b')">b</button><span class="tooltiptext">LIVELLO B - assistenti familiari (no assistenza):
                        <br>Addetto alla cucina (solo cucina),
                        <br>Guardiano (no assistenza),
                        <br>Giardiniere
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">LIVELLO BS - assistenti familiari:
                        <br>Assistente a persone non autosufficienti (non formato),
                        <br>Assistente a persone autosufficienti (livello superiore),
                        <br>Assistente a persone autosufficienti (livello base)
                    </span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'c')">c</button><span class="tooltiptext">LIVELLO C - assistenti familiari:
                        <br>Assistente a persone autosufficienti (livello superiore),
                        <br>Assistente a persone non autosufficienti (no formato),
                        <br>Assistente a persone autosufficienti (livello base),
                        <br>Assistente a persone non autosufficienti (livello base)
                    </span></div>
 
                    `;
            }
            levelChoices.innerHTML = buttons;
            levelBox.style.display = 'block';
        }

        function displaySelections() {
            var selectedItems = document.getElementById('selectedItems');
            selectedItems.innerHTML = `
                <p>Tipo contratto: ${selections['Tipo contratto'] || 'Non selezionato'}</p>
                <p>Livello: ${selections['Livello'] || 'Non selezionato'}</p>
                <p>Contratto: ${selections['Contratto'] || 'Non selezionato'}</p>
            `;
        }

        function increaseHours(day) {
            var input = document.getElementById(day);
            var currentValue = parseInt(input.value) || 0;
            if (currentValue < 10) {
                input.value = currentValue + 1;
                calculateTotals();
            }
        }

        function decreaseHours(day) {
            var input = document.getElementById(day);
            var currentValue = parseInt(input.value) || 0;
            if (currentValue > 0) {
                input.value = currentValue - 1;
                calculateTotals();
            }
        }

        function calculateTotals() {
            var days = ['lunedi', 'martedi', 'mercoledi', 'giovedi', 'venerdi', 'sabato', 'domenica'];
            var totalHours = 0;
            var totalDays = 0;
            days.forEach(function(day) {
                var hours = parseInt(document.getElementById(day).value) || 0;
                totalHours += hours;
                if (hours > 0) {
                    totalDays++;
                }
            });
            document.getElementById('totalHours').value = totalHours;
            document.getElementById('totalDays').value = totalDays;
        }

        function submitChoices() {
            var resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <p>Calcolo per il tipo di contratto: ${selections['Tipo contratto']}</p>
                <p>Livello: ${selections['Livello']}</p>
                <p>Contratto: ${selections['Contratto']}</p>
                <p>Vitto e alloggio in natura: ${selections['Vitto e alloggio in natura']}</p>
                <p>Specifiche vitto e alloggio: ${selections['Specifiche vitto e alloggio'].join(', ')}</p>
                <p>Ore di lavoro settimanali: ${document.getElementById('totalHours').value}</p>
                <p>Giorni di lavoro settimanali: ${document.getElementById('totalDays').value}</p>
            `;
        }

        function resetCalculator() {
    selections = {
        'Tipo contratto': null,
        'Livello': null,
        'Contratto': null,
        'Vitto e alloggio in natura': null,
        'Specifiche vitto e alloggio': []
    };
    displaySelections();
    document.getElementById('choices1').classList.remove('show');
    document.getElementById('choices2').classList.remove('show');
    document.getElementById('levelBox').style.display = 'none';
    document.getElementById('vittoAlloggioBox').style.display = 'none';
    document.getElementById('specificaVittoAlloggioBox').style.display = 'none';
    document.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
    document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => checkbox.checked = false);
    document.querySelectorAll('input[type="text"]').forEach(text => text.value = '');
    var days = ['lunedi', 'martedi', 'mercoledi', 'giovedi', 'venerdi', 'sabato', 'domenica'];
    days.forEach(function(day) {
        document.getElementById(day).value = '0';
    });
    document.getElementById('totalHours').value = '';
    document.getElementById('totalDays').value = '';
    document.getElementById('result').innerHTML = '';
}
    </script>
</body>
</html>
