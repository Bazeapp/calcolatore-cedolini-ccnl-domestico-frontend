<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulatore calcolo costo ccnl domestico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Simulatore calcolo costo ccnl domestico</h1>
    
    <div class="box" onclick="toggleChoices('choices1')">
        Tipo contratto
        <div id="choices1" class="choices">
            <button onclick="selectChoice('Tipo contratto', 'non-convivente')">non-convivente</button>
            <button onclick="selectChoice('Tipo contratto', 'full-time')">full-time</button>
            <button onclick="selectChoice('Tipo contratto', 'part-time')">part-time</button>
            <button onclick="selectChoice('Tipo contratto', 'sostituzione')">sostituzione</button>
            <button onclick="selectChoice('Tipo contratto', 'assistenza')">assistenza</button>
            <button onclick="selectChoice('Tipo contratto', 'presenza')">presenza</button>
        </div>
    </div>

    <div class="box" id="levelBox" onclick="toggleChoices('choices2')" style="display:none;">
        Livello
        <div id="choices2" class="choices">
            <!-- Livello buttons will be dynamically populated here -->
        </div>
    </div>

    <div class="selection-container">
        <label>
            <input type="radio" name="contratto" value="indeterminato" onclick="selectChoice('Contratto', 'indeterminato')">
            indeterminato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato" onclick="selectChoice('Contratto', 'determinato')">
            determinato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato in sostituzione" onclick="selectChoice('Contratto', 'determinato in sostituzione')">
            determinato in sostituzione
        </label>
    </div>




    <div class="selected-items" id="selectedItems">
        <!-- Selections will appear here -->
    </div>

    <h2>Orario di lavoro</h2>
    <table>
        <thead>
            <tr bodycolor="">
                <th>Lunedì</th>
                <th>Martedì</th>
                <th>Mercoledì</th>
                <th>Giovedì</th>
                <th>Venerdì</th>
                <th>Sabato</th>
                <th>Domenica</th>
                <th>Ore settimanali</th>
                <th>Giorni settimanali</th>
               
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="text" id="totalHours" readonly></td>
                <td><input type="text" id="totalDays" readonly></td>
                
            </tr>
        </tbody>
    </table>
    <div>
        <button class="box" onclick="submitChoices()">Calcola</button>
    </div>

    <script>
        var selections = {
            'Tipo contratto': null,
            'Livello': null,
            'Contratto': null
        };

        function toggleChoices(id) {
            var choices = document.getElementById(id);
            if (choices.classList.contains('show')) {
                choices.classList.remove('show');
            } else {
                // Nasconde tutte le altre scelte
                var allChoices = document.querySelectorAll('.choices');
                allChoices.forEach(function(choice) {
                    choice.classList.remove('show');
                });
                // Mostra le scelte cliccate
                choices.classList.add('show');
            }
        }

        function selectChoice(category, choice) {
            selections[category] = choice;
            displaySelections();
            if (category === 'Tipo contratto') {
                updateLevelChoices(choice);
            }
        }

        function updateLevelChoices(contractType) {
            var levelBox = document.getElementById('levelBox');
            var levelChoices = document.getElementById('choices2');
            var buttons = '';
            if (contractType === 'presenza'  ) {
                buttons = '<div class="tooltip"><button onclick="selectChoice(\'Livello\', \'livello unico\')">livello unico</button><span class="tooltiptext">livello unico</span></div>';
            } else if (contractType === 'full-time' || contractType === 'non-convivente'){
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'a')">a</button><span class="tooltiptext">LIVELLO A - assistenti familiari (no assistenza):
                        <br>Addetto alle pulizie (solo casa),
                        <br>Addetto alla lavanderia (solo lavanderia),
                        <br>Aiuto di cucina (supporto cuoco),
                        <br>Pulizia stalla e cura generica cavallo,
                        <br>Assistente animali domestici,
                        <br>Pulizia ed annaffiamento aree verdi,
                        <br>Operaio comune (solo manuali e piccoli interventi)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'as')">as</button><span class="tooltiptext">A-SUPER - addetto alla compagnia(solo compagnia senza fare niente)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'b')">b</button><span class="tooltiptext"> LIVELLO B - svolgono con specifica competenza le proprie mansioni:
                        <br>Collaboratore familiare generico polifunzionale (casalingo )
                        <br>Custode abitazione privata(vigilanza abitazione e zone pertinenti o custode casa)
                        <br>Addetto alla stireria(mansioni relativa a stiratura)
                        <br>Servizio tavola e camera (fa i letti e mette apposto camera / apparecchia lava e        sparecchia)
                        <br>Addetto alla cura delle aree verdi e manutenzione
                        <br>Operaio qualificato(mansioni manuali di interventi e manutenzione)
                        <br>Svolge mansioni di conduzioni automezzi e relativa manutenzione
                        <br>Addetto a riassetto camere e servizio di prima colazione anche per ospiti</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">B-SUPER
                        <br>assistente familiare per persone autosufficenti (pulizia e vitto casa)
                        <br>assistente familiare per bambini  autosufficenti (pulizia e vitto casa)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'c')">c</button><span class="tooltiptext">LIVELLO C - asistenti familiari che operano con totale autonomia e responsabilità
                        <br>Cuoco (cucina, pulisce  e fa la spesa</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">C-SUPER
                        <br>assistente familiare per persone non autosufficenti (non formato) (pulizia e vitto casa)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'd')">d</button><span class="tooltiptext">LIVELLO D assistenti familiari con requisiti, responsabilità,autonomia e cordinamento
                        <br>Amministratore dei beni di famiglia (gestisce patrimonio di famiglia)
                        <br>Svolge mansioni di gestione e coordinamento relative a tutte le esigenze connesse ai servizi
                        <br>Svolge mansioni di coordinamento di attività cameriere di camera/stireria/lavanderia/guardaroba ecc.
                        <br>Capo cuoco, gestisce cucina e tutti gli annessi
                        <br>Capo giardiniere
                        <br>Svogle mansioni di istruzione/educazione per la famiglia</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">D-SUPER
                        <br>Assistente familiare che assiste persone non autosufficienti (formato), vitto e pulizia
                        <br>Direttore di casa , dirige mansioni e cordinamento
                        <br>Assistente familire educatore formato,(favorire inserimento o il reinserimento nei rapporti sociali, in autonomia, di persone in condizioni di difficoltà perché affette da disabilità psichica oppure da disturbi dell’apprendimento o relazionali)</span></div>
                `;
            } else if (contractType === 'part-time') {
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'b')">b</button><span class="tooltiptext">LIVELLO B - svolgono con specifica competenza le proprie mansioni:
                        <br>Collaboratore familiare generico polifunzionale (casalingo )
                        <br>Custode abitazione privata(vigilanza abitazione e zone pertinenti o custode casa)
                        <br>Addetto alla stireria(mansioni relativa a stiratura)
                        <br>Servizio tavola e camera (fa i letti e mette apposto camera / apparecchia lava e        sparecchia)
                        <br>Addetto alla cura delle aree verdi e manutenzione
                        <br>Operaio qualificato(mansioni manuali di interventi e manutenzione)
                        <br>Svolge mansioni di conduzioni automezzi e relativa manutenzione
                        <br>Addetto a riassetto camere e servizio di prima colazione anche per ospiti</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">B-SUPER
                        <br>assistente familiare per persone autosufficenti (pulizia e vitto casa)
                        <br>assistente familiare per bambini  autosufficenti (pulizia e vitto casa)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'c')">c</button><span class="tooltiptext">LIVELLO C - asistenti familiari che operano con totale autonomia e responsabilità
                        <br>Cuoco (cucina, pulisce  e fa la spesa</span></div>
                    `;
            } else if (contractType === 'assistenza') {
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">B-SUPER
                        <br>assistente familiare per persone autosufficenti (pulizia e vitto casa)
                        <br>assistente familiare per bambini  autosufficenti (pulizia e vitto casa)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">C-SUPER
                        <br>assistente familiare per persone non autosufficenti (non formato) (pulizia e vitto casa)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">LIVELLO DS</span></div>
                `;
            } else if (contractType === 'sostituzione') {
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">C-SUPER
                        <br>assistente familiare per persone non autosufficenti (non formato) (pulizia e vitto casa)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">D-SUPER
                        <br>Assistente familiare che assiste persone non autosufficienti (formato), vitto e pulizia
                        <br>Direttore di casa , dirige mansioni e cordinamento
                        <br>Assistente familire educatore formato,(favorire inserimento o il reinserimento nei rapporti sociali, in autonomia, di persone in condizioni di difficoltà perché affette da disabilità psichica oppure da disturbi dell’apprendimento o relazionali)</span></div>
                `;
            }
            levelChoices.innerHTML = buttons;
            levelBox.style.display = 'block';
            levelChoices.classList.add('show');
        }

        function displaySelections() {
            var selectedItemsDiv = document.getElementById('selectedItems');
            selectedItemsDiv.innerHTML = '';
            for (var key in selections) {
                if (selections[key]) {
                    var div = document.createElement('div');
                    div.className = 'selected-item';
                    div.innerText = key + ': ' + selections[key];
                    selectedItemsDiv.appendChild(div);
                }
            }
        }

        function submitChoices() {
            var allConfirmed = Object.values(selections).every(choice => choice !== null);
            if (allConfirmed) {
                alert('Hai inviato le seguenti scelte:\n' +
                    'Tipo contratto: ' + selections['Tipo contratto'] + '\n' +
                    'Livello: ' + selections['Livello'] + '\n' +
                    'Contratto: ' + selections['Contratto']);
            } else {
                alert('Per favore, seleziona tutte le opzioni prima di inviare.');
            }
        }

        function calculateTotals() {
    var totalHours = 0;
    var totalDays = 0;
    var orePerGiorno = []; // Resetta l'array prima di ricalcolare i valori

    var inputs = document.querySelectorAll('input[type="number"]');
    inputs.forEach(function(input, index) {
        if (!isNaN(input.value) && input.value !== '') {
            totalHours += parseInt(input.value);
            if (parseInt(input.value) > 0) {
                totalDays++;
                orePerGiorno[index] = parseInt(input.value); // Salva le ore per il giorno corrispondente nell'array
            }
        }
    });

    document.getElementById('totalHours').value = totalHours;
    document.getElementById('totalDays').value = totalDays;

    console.log("Ore per giorno:", orePerGiorno); // Output delle ore per giorno nella console
}
    </script>
</body>
</html>
