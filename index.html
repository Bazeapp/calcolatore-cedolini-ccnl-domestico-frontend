<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulatore calcolo costo ccnl domestico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Simulatore calcolo costo ccnl domestico</h1>
    
    <div class="box" onclick="toggleChoices('choices1')">
        Tipo contratto
        <div id="choices1" class="choices">
            <button onclick="selectChoice('Tipo contratto', 'non-convivente')">non-convivente</button>
            <button onclick="selectChoice('Tipo contratto', 'full-time')">full-time</button>
            <button onclick="selectChoice('Tipo contratto', 'part-time')">part-time</button>
            <button onclick="selectChoice('Tipo contratto', 'sostituzione')">sostituzione</button>
            <button onclick="selectChoice('Tipo contratto', 'assistenza')">assistenza</button>
            <button onclick="selectChoice('Tipo contratto', 'presenza')">presenza</button>
        </div>
    </div>

    <div class="box" id="levelBox" onclick="toggleChoices('choices2')" style="display:none;">
        Livello
        <div id="choices2" class="choices">
            <!-- Livello buttons will be dynamically populated here -->
        </div>
    </div>
    <div class="selection-container">
        <label>
            <input type="radio" name="contratto" value="indeterminato" onclick="selectChoice('Contratto', 'indeterminato')">
            indeterminato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato" onclick="selectChoice('Contratto', 'determinato')">
            determinato
        </label>
        <label>
            <input type="radio" name="contratto" value="determinato in sostituzione" onclick="selectChoice('Contratto', 'determinato in sostituzione')">
            determinato in sostituzione
        </label>
    </div>
    <div class="selection-container" id="vittoAlloggioBox" style="display:none;">
        Vitto e alloggio in natura:
        <label>
            <input type="radio" name="vittoAlloggio" value="si" onclick="selectVittoAlloggio('si')"> Sì
        </label>
        <label>
            <input type="radio" name="vittoAlloggio" value="no" onclick="selectVittoAlloggio('no')"> No
        </label>
    </div>

    <div class="selection-container" id="specificaVittoAlloggioBox" style="display:none;">
        seleziona le indennità sostitutive :
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="pranzo/colazione" onclick="selectSpecificaVittoAlloggio('pranzo/colazione')"> indennità Pranzo/Colazione
        </label>
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="cena" onclick="selectSpecificaVittoAlloggio('cena')"> indennità Cena
        </label>
        <label>
            <input type="checkbox" name="specificaVittoAlloggio" value="alloggio" onclick="selectSpecificaVittoAlloggio('alloggio')">indennità Alloggio
        </label>
    </div>
    <div class="selected-items" id="selectedItems">
        <!-- Selections will appear here -->
    </div>

    <h2>Orario di lavoro</h2>
    <table>
        <thead>
            <tr>
                <th>Lunedì</th>
                <th>Martedì</th>
                <th>Mercoledì</th>
                <th>Giovedì</th>
                <th>Venerdì</th>
                <th>Sabato</th>
                <th>Domenica</th>
                <th>Ore settimanali</th>
                <th>Giorni settimanali</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="number" min="0" max="24" placeholder="0" oninput="calculateTotals()"></td>
                <td><input type="text" id="totalHours" readonly></td>
                <td><input type="text" id="totalDays" readonly></td>
            </tr>
        </tbody>
    </table>
    <div>
        <button class="box" onclick="submitChoices()">Calcola</button>
        <button class="box" onclick="resetCalculator()">Nuovo calcolo</button>
    </div>

    <script>
        var selections = {
            'Tipo contratto': null,
            'Livello': null,
            'Contratto': null,
            'Vitto e alloggio in natura': null,
            'Specifiche vitto e alloggio': []
        };

        function toggleChoices(id) {
            var choices = document.getElementById(id);
            if (choices.classList.contains('show')) {
                choices.classList.remove('show');
            } else {
                var allChoices = document.querySelectorAll('.choices');
                allChoices.forEach(function(choice) {
                    choice.classList.remove('show');
                });
                choices.classList.add('show');
            }
        }

        function selectChoice(category, choice) {
            selections[category] = choice;
            displaySelections();
            if (category === 'Tipo contratto') {
                updateLevelChoices(choice);
            } else if (category === 'Livello') {
                if (selections['Tipo contratto'] !== 'non-convivente') {
                    document.getElementById('vittoAlloggioBox').style.display = 'block';
                }
            }
        }

        function selectVittoAlloggio(choice) {
            selections['Vitto e alloggio in natura'] = choice;
            displaySelections();
            if (choice === 'no') {
                document.getElementById('specificaVittoAlloggioBox').style.display = 'block';
            } else {
                document.getElementById('specificaVittoAlloggioBox').style.display = 'none';
                selections['Specifiche vitto e alloggio'] = [];
            }
        }

        function selectSpecificaVittoAlloggio(option) {
            var index = selections['Specifiche vitto e alloggio'].indexOf(option);
            if (index === -1) {
                selections['Specifiche vitto e alloggio'].push(option);
            } else {
                selections['Specifiche vitto e alloggio'].splice(index, 1);
            }
            displaySelections();
        }

        function updateLevelChoices(contractType) {
            var levelBox = document.getElementById('levelBox');
            var levelChoices = document.getElementById('choices2');
            var buttons = '';
            if (contractType === 'presenza') {
                buttons = '<div class="tooltip"><button onclick="selectChoice(\'Livello\', \'livello unico\')">livello unico</button><span class="tooltiptext">livello unico</span></div>';
            } else if (contractType === 'full-time' || contractType === 'non-convivente'){
                buttons = `
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'a')">a</button><span class="tooltiptext">LIVELLO A - assistenti familiari (no assistenza):
                        <br>Addetto alle pulizie (solo casa),
                        <br>Addetto alla lavanderia (solo lavanderia),
                        <br>Aiuto di cucina (supporto cuoco),
                        <br>Pulizia stalla e cura generica cavallo,
                        <br>Assistente animali domestici,
                        <br>Pulizia ed annaffiamento aree verdi,
                        <br>Operaio comune (solo manuali e piccoli interventi)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'as')">as</button><span class="tooltiptext">LIVELLO AS - assistenti familiari (no assistenza):
                        <br>Stiro,
                        <br>Riordino,
                        <br>Cameriere (servizio tavola e camera),
                        <br>Giardiniere,
                        <br>Autista</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'b')">b</button><span class="tooltiptext">LIVELLO B - assistenti familiari (compiti connessi assistenza persone):
                        <br>Badante a persone autosufficienti (presenza notturna),
                        <br>Baby sitter (compiti non di igiene personale),
                        <br>Custode (gestione casa + assistenza),
                        <br>Assistente a persone autosufficienti</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'bs')">bs</button><span class="tooltiptext">LIVELLO BS - assistenti familiari (compiti connessi assistenza persone):
                        <br>Assistente a persone autosufficienti,
                        <br>Assistente a persone autosufficienti (presenza notturna),
                        <br>Assistente a persone non autosufficienti,
                        <br>Baby sitter (compiti di igiene personale)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'c')">c</button><span class="tooltiptext">LIVELLO C - assistenti familiari (compiti connessi assistenza persone):
                        <br>Assistente a persone non autosufficienti,
                        <br>Assistente a persone non autosufficienti (presenza notturna),
                        <br>Baby sitter (compiti di igiene personale)</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'cs')">cs</button><span class="tooltiptext">LIVELLO CS - assistenti familiari (compiti connessi assistenza persone):
                        <br>Assistente a persone non autosufficienti (con particolari competenze),
                        <br>Assistente a persone non autosufficienti (con particolari competenze e presenza notturna),
                        <br>Infermieri professionali,
                        <br>Operatori professionali</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'd')">d</button><span class="tooltiptext">LIVELLO D - assistenti familiari (compiti connessi assistenza persone):
                        <br>Assistente a persone non autosufficienti (competenze acquisite),</span></div>
                    <div class="tooltip"><button onclick="selectChoice('Livello', 'ds')">ds</button><span class="tooltiptext">LIVELLO DS - assistenti familiari (compiti connessi assistenza persone):
                        <br>Assistente a persone non autosufficienti (competenze acquisite con presenza notturna),
                        <br>Operatori professionali (competenze acquisite con presenza notturna)</span></div>`;
            }
            levelChoices.innerHTML = buttons;
            levelBox.style.display = 'block';
        }

        function displaySelections() {
            var selectedItems = document.getElementById('selectedItems');
            selectedItems.innerHTML = `
                <p>Tipo contratto: ${selections['Tipo contratto']}</p>
                <p>Livello: ${selections['Livello']}</p>
                <p>Contratto: ${selections['Contratto']}</p>
                <p>Vitto e alloggio in natura: ${selections['Vitto e alloggio in natura']}</p>
                <p>Specifiche vitto e alloggio: ${selections['Specifiche vitto e alloggio'].join(', ')}</p>
            `;
        }

        function calculateTotals() {
            var inputs = document.querySelectorAll('tbody tr td input[type="number"]');
            var totalHours = 0;
            var totalDays = 0;

            inputs.forEach(function(input) {
                var value = parseInt(input.value) || 0;
                totalHours += value;
                if (value > 0) {
                    totalDays++;
                }
            });

            document.getElementById('totalHours').value = totalHours;
            document.getElementById('totalDays').value = totalDays;
        }

        function submitChoices() {
            alert('Scelte inviate con successo');
        }

        function resetCalculator() {
            selections = {
                'Tipo contratto': null,
                'Livello': null,
                'Contratto': null,
                'Vitto e alloggio in natura': null,
                'Specifiche vitto e alloggio': []
            };
            document.getElementById('levelBox').style.display = 'none';
            document.getElementById('vittoAlloggioBox').style.display = 'none';
            document.getElementById('specificaVittoAlloggioBox').style.display = 'none';
            var inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(function(input) {
                input.value = '';
            });
            document.getElementById('totalHours').value = '';
            document.getElementById('totalDays').value = '';
            displaySelections();
        }
    </script>
</body>
</html>
